(self.webpackChunkdustbringer_github_io=self.webpackChunkdustbringer_github_io||[]).push([[374],{10647:function(e,t,n){var r=n(1702),a=n(47908),o=Math.floor,i=r("".charAt),l=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,p){var m=n+e.length,f=r.length,v=u;return void 0!==d&&(d=a(d),v=s),l(p,v,(function(a,l){var s;switch(i(l,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,m);case"<":s=d[c(l,1,-1)];break;default:var u=+l;if(0===u)return a;if(u>f){var p=o(u/10);return 0===p?a:p<=f?void 0===r[p-1]?i(l,1):r[p-1]+i(l,1):a}s=r[u-1]}return void 0===s?"":s}))}},68757:function(e,t,n){"use strict";var r=n(82109),a=n(46916),o=n(1702),i=n(84488),l=n(60614),c=n(68554),s=n(47850),u=n(41340),d=n(58173),p=n(34706),m=n(10647),f=n(5112),v=n(31913),h=f("replace"),g=TypeError,x=o("".indexOf),b=o("".replace),Z=o("".slice),S=Math.max,w=function(e,t,n){return n>e.length?-1:""===t?n:x(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,f,y,E,k,W,C,M=i(this),D=0,P=0,R="";if(!c(e)){if((n=s(e))&&(r=u(i(p(e))),!~x(r,"g")))throw g("`.replaceAll` does not allow non-global regexes");if(o=d(e,h))return a(o,e,M,t);if(v&&n)return b(u(M),e,t)}for(f=u(M),y=u(e),(E=l(t))||(t=u(t)),k=y.length,W=S(1,k),D=w(f,y,0);-1!==D;)C=E?u(t(y,D,f)):m(y,f,D,[],void 0,t),R+=Z(f,P,D)+C,P=D+k,D=w(f,y,D+W);return P<f.length&&(R+=Z(f,P)),R}})},27207:function(e,t,n){n(68757)},69852:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var r=n(67294),a=n(40259),o=n(35414),i=n(69299),l=n(46147),c=n(13366),s=n(60111),u=n(4942),d=n(63366),p=n(87462),m=n(85505),f=n(9236),v=n(95025),h=n(77869),g=n(53206),x=n(74504),b=n(61807),Z=n(96981),S=n(18379),w=n(19508),y=n(31351);function E(e){return(0,y.Z)("MuiDialog",e)}var k=(0,w.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var W=(0,r.createContext)({}),C=n(40834),M=n(9785),D=n(85893),P=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],R=(0,S.ZP)(C.Z,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),A=(0,S.ZP)(g.Z,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),F=(0,S.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,h.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,p.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),B=(0,S.ZP)(b.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,h.Z)(n.scroll))],t["paperWidth".concat((0,h.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,p.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,u.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit)},"&.".concat(k.paperScrollBody),(0,u.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&(0,u.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(k.paperScrollBody),(0,u.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,u.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(k.paperScrollBody),{margin:0,maxWidth:"100%"}))})),N=r.forwardRef((function(e,t){var n=(0,Z.Z)({props:e,name:"MuiDialog"}),a=(0,M.Z)(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},i=n["aria-describedby"],l=n["aria-labelledby"],c=n.BackdropComponent,s=n.BackdropProps,u=n.children,g=n.className,S=n.disableEscapeKeyDown,w=void 0!==S&&S,y=n.fullScreen,k=void 0!==y&&y,C=n.fullWidth,N=void 0!==C&&C,I=n.maxWidth,T=void 0===I?"sm":I,j=n.onBackdropClick,_=n.onClose,z=n.open,L=n.PaperComponent,$=void 0===L?b.Z:L,H=n.PaperProps,K=void 0===H?{}:H,O=n.scroll,U=void 0===O?"paper":O,Y=n.TransitionComponent,X=void 0===Y?x.Z:Y,q=n.transitionDuration,G=void 0===q?o:q,J=n.TransitionProps,V=(0,d.Z)(n,P),Q=(0,p.Z)({},n,{disableEscapeKeyDown:w,fullScreen:k,fullWidth:N,maxWidth:T,scroll:U}),ee=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,a=e.fullWidth,o=e.fullScreen,i={root:["root"],container:["container","scroll".concat((0,h.Z)(n))],paper:["paper","paperScroll".concat((0,h.Z)(n)),"paperWidth".concat((0,h.Z)(String(r))),a&&"paperFullWidth",o&&"paperFullScreen"]};return(0,f.Z)(i,E,t)}(Q),te=r.useRef(),ne=(0,v.Z)(l),re=r.useMemo((function(){return{titleId:ne}}),[ne]);return(0,D.jsx)(A,(0,p.Z)({className:(0,m.Z)(ee.root,g),closeAfterTransition:!0,components:{Backdrop:R},componentsProps:{backdrop:(0,p.Z)({transitionDuration:G,as:c},s)},disableEscapeKeyDown:w,onClose:_,open:z,ref:t,onClick:function(e){te.current&&(te.current=null,j&&j(e),_&&_(e,"backdropClick"))},ownerState:Q},V,{children:(0,D.jsx)(X,(0,p.Z)({appear:!0,in:z,timeout:G,role:"presentation"},J,{children:(0,D.jsx)(F,{className:(0,m.Z)(ee.container),onMouseDown:function(e){te.current=e.target===e.currentTarget},ownerState:Q,children:(0,D.jsx)(B,(0,p.Z)({as:$,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":ne},K,{className:(0,m.Z)(ee.paper,K.className),ownerState:Q,children:(0,D.jsx)(W.Provider,{value:re,children:u})}))})}))}))}));function I(e){return(0,y.Z)("MuiDialogActions",e)}(0,w.Z)("MuiDialogActions",["root","spacing"]);var T=["className","disableSpacing"],j=(0,S.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,p.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),_=r.forwardRef((function(e,t){var n=(0,Z.Z)({props:e,name:"MuiDialogActions"}),r=n.className,a=n.disableSpacing,o=void 0!==a&&a,i=(0,d.Z)(n,T),l=(0,p.Z)({},n,{disableSpacing:o}),c=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,f.Z)(n,I,t)}(l);return(0,D.jsx)(j,(0,p.Z)({className:(0,m.Z)(c.root,r),ownerState:l,ref:t},i))}));function z(e){return(0,y.Z)("MuiDialogContent",e)}(0,w.Z)("MuiDialogContent",["root","dividers"]);var L=(0,w.Z)("MuiDialogTitle",["root"]),$=["className","dividers"],H=(0,S.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,p.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,u.Z)({},".".concat(L.root," + &"),{paddingTop:0}))})),K=r.forwardRef((function(e,t){var n=(0,Z.Z)({props:e,name:"MuiDialogContent"}),r=n.className,a=n.dividers,o=void 0!==a&&a,i=(0,d.Z)(n,$),l=(0,p.Z)({},n,{dividers:o}),c=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,f.Z)(n,z,t)}(l);return(0,D.jsx)(H,(0,p.Z)({className:(0,m.Z)(c.root,r),ownerState:l,ref:t},i))})),O=n(45617),U=n(60043),Y=n(43689),X=(n(13728),n(27207),n(93433)),q=function(e){return(0,X.Z)(e.matchAll(/^[^\S\r\n]*\[\^([a-zA-Z0-9_.-]+)\]:/gm)).map((function(e){return e[1]}))},G=function(e){return(0,X.Z)(e.matchAll(/^[^\S\r\n]*\[\^(\d+)\]:/gm)).map((function(e){return e[1]}))},J=function(e){return Math.max.apply(Math,(0,X.Z)(e.filter((function(e){return t=e,Number.isInteger(t)||/^\d+$/.test(t);var t})).map((function(e){return parseInt(e,10)}))))},V=function(e,t){void 0===t&&(t=1),t<0&&console.error("indexFrom must be non-negative");var n=e,r=q(e);return console.log(r),r.forEach((function(e,a){var o=Math.max(J(r)+1,r.length+t);n=n.replaceAll("[^"+e+"]","[^"+(a+o)+"]")})),r=q(n),console.log(r),r.forEach((function(e,r){n=n.replaceAll("[^"+e+"]","[^"+(r+t)+"]")})),n},Q=function(e,t){if(void 0===t&&(t=1),t<0)throw new Error("indexFrom must be non-negative");var n=e,r=G(e);return r.forEach((function(e,a){var o=Math.max(J(r)+1,r.length+t);n=n.replaceAll("[^"+e+"]","[^"+(a+o)+"]")})),(r=G(n)).forEach((function(e,r){n=n.replaceAll("[^"+e+"]","[^"+(r+t)+"]")})),n},ee=a.default.input.withConfig({displayName:"pandoc-footnote-relabel__HiddenInput",componentId:"sc-14f9on7-0"})(["display:none;"]);var te=function(){var e=r.useState(""),t=e[0],n=e[1],a=r.useState(1),u=a[0],d=a[1],p=r.useState(""),m=p[0],f=p[1],v=r.useState(!1),h=v[0],g=v[1],x=r.useState("No File Selected"),b=x[0],Z=x[1],S=r.useState(!1),w=S[0],y=S[1],E=r.useState(""),k=E[0],W=E[1],C=r.useState(1),M=C[0],D=C[1],P=function(e,t){void 0===t&&(t=!1),e.preventDefault();var n=t?Q(k,M):V(k,M),r=new Blob([n]),a=URL.createObjectURL(r),o=document.createElement("a");o.href=a,o.setAttribute("download","edited_"+b),document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)},R=function(e,n){void 0===n&&(n=!1),e.preventDefault();var r=n?Q(t,u):V(t,u);f(r),g(!0)};return r.createElement(r.Fragment,null,r.createElement(o.q,null,r.createElement("title",null,"Pandoc Footnote Relabeller - dustbringer.github.io"),r.createElement("meta",{name:"description",content:"Pandoc Footnote Relabeller"})),r.createElement(O.Z,{maxWidth:"md"},r.createElement(c.Z,{variant:"h4",gutterBottom:!0},"Pandoc Footnote Relabeller"),r.createElement(c.Z,{variant:"body1",gutterBottom:!0},"Replace the labels of pandoc footnotes with ascending integers. The barebones Javascript code can be found at"," ",r.createElement(U.Z,{href:"https://gist.github.com/dustbringer/6675f9aad4ff47725933abeb7affb891"},"this GitHub gist"),"."),r.createElement(c.Z,{variant:"body1",gutterBottom:!0},"Note, none of the files you upload is saved anywhere, all the text processing is done in your browser and thrown back at you."),r.createElement(i.Z,null,r.createElement(Y.Z,{title:"File Upload and Download"},r.createElement(i.Z,{sx:{marginBottom:"10px",display:"flex",alignItems:"center"}},r.createElement("label",null,r.createElement(ee,{type:"file",multiple:!1,accept:".md,.txt,.text,text/plain",onChange:function(e){e.preventDefault();var t=e.target.files[0],n=new FileReader;n.onload=function(e){var n=e.target.result;W(n),Z(t.name),y(!0)},t&&n.readAsText(t)}}),r.createElement(l.Z,{variant:"contained",component:"span"},"Upload")),r.createElement(c.Z,{variant:"body1",sx:{margin:"0 10px"}},b)),r.createElement("div",null,r.createElement(s.Z,{label:"Index from",type:"number",inputProps:{step:"1"},value:M,onChange:function(e){return D(Math.max(0,e.target.value))},disabled:!w,size:"small",sx:{margin:"10px 0"}})),r.createElement("div",null,r.createElement(l.Z,{variant:"contained",component:"span",onClick:function(e){return P(e)},disabled:!w},"Replace All"),r.createElement(l.Z,{variant:"contained",component:"span",onClick:function(e){return P(e,!0)},disabled:!w,sx:{marginLeft:"10px"}},"Replace Int")))),r.createElement(s.Z,{label:"Input",rows:6,multiline:!0,margin:"dense",size:"small",fullWidth:!0,autoFocus:!0,variant:"outlined",inputProps:{style:{fontFamily:"Roboto Mono"}},value:t,onChange:function(e){return n(e.target.value)}}),r.createElement(i.Z,{sx:{display:"flex",alignItems:"center"}},r.createElement("div",null,r.createElement(s.Z,{label:"Index from",type:"number",inputProps:{step:"1"},value:u,onChange:function(e){return d(Math.max(0,e.target.value))},size:"small",sx:{margin:"10px 0"}})),r.createElement("div",null,r.createElement(l.Z,{variant:"contained",component:"span",onClick:function(e){return R(e)},sx:{margin:"5px 0",marginLeft:"10px"}},"Replace All"),r.createElement(l.Z,{variant:"contained",component:"span",onClick:function(e){return R(e,!0)},sx:{margin:"5px 0",marginLeft:"10px"}},"Replace Int"))),r.createElement(N,{open:h,onClose:function(){return g(!1)},fullWidth:!0},r.createElement(K,null,r.createElement(s.Z,{size:"small",multiline:!0,rows:16,placeholder:"Empty",InputProps:{readOnly:!0,sx:{fontSize:"0.8em",whiteSpace:"pre"}},defaultValue:m,autoFocus:!0,onFocus:function(e){return e.target.select()},fullWidth:!0})),r.createElement(_,null,r.createElement(l.Z,{onClick:function(){return g(!1)},color:"primary"},"Close")))))}}}]);
//# sourceMappingURL=component---src-pages-tools-pandoc-footnote-relabel-jsx-5064ece8ba209c8402f5.js.map